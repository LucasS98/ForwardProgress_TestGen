THREAD0
If Mem[0] == 0: goto 0

If Exch(Mem[1],0) == 1: goto 1


THREAD1
If Exch(Mem[1],1) == 0: goto 0

Mem[0] = 1


