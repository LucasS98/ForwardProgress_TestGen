THREAD0
Mem[0] = 1

If Exch(Mem[0],1) == 0: goto END

If Exch(Mem[0],1) == 1: goto 2


THREAD1
If Exch(Mem[0],0) == 0: goto 0


