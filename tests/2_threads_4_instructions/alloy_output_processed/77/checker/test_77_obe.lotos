(* generated by lnt2lotos 6.8 *)

specification TEST_77_OBE [EX, TERMINATE] : exit

behaviour
MAIN [EX, TERMINATE]
where

library LNT_V1, common endlib

type TEST_77_OBE is LNTEXTENSIONS, LNTEXCEPTIONS, COMMON
   opns
      (* operations for LNT function definitions *)
      CHECK__CHANNEL__NONE :  -> BOOL

   eqns
      (* equations for LNT function definitions *)
      ofsort BOOL
         CHECK__CHANNEL__NONE = TRUE;

endtype

(* processes for LNT process definitions *)

process MAIN [EX, TERMINATE] : exit :=
   SHARED_MEMORY [EX, TERMINATE] (2)
   |[EX, TERMINATE]|
   SCHEDULER_OBE [EX, TERMINATE] (2)
   |[EX, TERMINATE]|
   (
      THREAD [EX, TERMINATE] (0, CONS (ATOMIC_EXCH_BRANCH (MEMLOC (1), 0, FALSE, 0, 1, TRUE), CONS (ATOMIC_EXCH_BRANCH (MEMLOC (2), 0, FALSE, 0, 1, TRUE), NIL)))
      |||
      THREAD [EX, TERMINATE] (1, CONS (ATOMIC_EXCH_BRANCH (MEMLOC (1), 1, TRUE, 0, 2, TRUE), CONS (ATOMIC_EXCH_BRANCH (MEMLOC (2), 1, TRUE, 0, 3, TRUE), NIL)))
   )
endproc

(* sorts and operations for LNT exceptions *)

type LNTEXCEPTIONS is BOOLEAN, STRING
   sorts
      EXCEPTION__NONE (*! implementedby ADT_EXCEPTION__NONE *)

   opns
      EXCEPTION__NONE__NAME__UNEXPECTED (*! implementedby ADT_EXCEPTION__NONE__NAME__UNEXPECTED external *) : -> STRING
      EXCEPTION__NONE__CONSTRUCTOR (*! implementedby ADT_EXCEPTION__NONE__CONSTRUCTOR constructor *) : STRING -> EXCEPTION__NONE
      EXCEPTION__NONE__NAME (*! implementedby ADT_EXCEPTION__NONE__NAME *) : EXCEPTION__NONE -> STRING
      EXCEPTION__NONE__UNEXPECTED (*! implementedby ADT_EXCEPTION__NONE__UNEXPECTED *) : EXCEPTION__NONE -> BOOL

   eqns
      ofsort STRING
      forall S : STRING
         EXCEPTION__NONE__NAME (EXCEPTION__NONE__CONSTRUCTOR (S)) = S;
      ofsort BOOL
      forall S : STRING
         S = EXCEPTION__NONE__NAME__UNEXPECTED => EXCEPTION__NONE__UNEXPECTED (EXCEPTION__NONE__CONSTRUCTOR (S)) = TRUE;
         EXCEPTION__NONE__UNEXPECTED (EXCEPTION__NONE__CONSTRUCTOR (S)) = FALSE;
endtype

endspec
